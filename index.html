<!DOCTYPE html>
<html><head> <meta charset="UTF-8">
   <title>Select a Major</title>
</head>

<body style='margin-left: 30px;'>
   <h1>We filter our dataset by major</h1>

      <input type="button" id='btn' value="Get Student Majors">
      <button type='button' class="btn btn-primary" onClick="getMajors('BUS')">BUS</button> 
      <button type='button' class="btn btn-primary" onClick="getData('CIT')">CIT</button> 
      <div id="result"></div>

<script>

document.addEventListener('DOMContentLoaded', function() {    

   document.querySelector('#btn').onclick = async function(){
       var response = await fetch('exam_scores.json');        
       if(response.ok) {
            var data = await response.json(); 
var major = [
{"name":"Rosie","major":"CIT","midterm":88,"final":87}, 
{"name":"Bruce","major":"CIT","midterm":68,"final":87}, 
{"name":"Carol","major":"BUS","midterm":75,"final":87},
{"name":"David","major":"CIT","midterm":85,"final":77}, 
{"name":"Ellen","major":"CIT","midterm":98,"final":77},
{"name":"Frank","major":"BUS","midterm":53,"final":61}, 
{"name":"Grady","major":"BUS","midterm":93,"final":92}, 
{"name":"Hanna","major":"BUS","midterm":88,"final":56}, 
{"name":"Irene","major":"CIT","midterm":79,"final":64}, 
{"name":"Jacky","major":"CIT","midterm":89,"final":80}, 
{"name":"Karen","major":"CIT","midterm":85,"final":70}, 
{"name":"Lamar","major":"BUS","midterm":73,"final":77}, 
{"name":"Mable","major":"CIT","midterm":74,"final":70}, 
{"name":"Nancy","major":"CIT","midterm":40,"final":82}, 
{"name":"Ohmar","major":"CIT","midterm":70,"final":93}, 
{"name":"Chuck","major":"BUS","midterm":80,"final":54}, 
{"name":"Paula","major":"BUS","midterm":88,"final":61}, 
{"name":"Quint","major":"CIT","midterm":99,"final":80}, 
{"name":"Ronda","major":"CIT","midterm":71,"final":77}, 
 {"name":"Sammy","major":"CIT","midterm":98,"final":99}]
];
            var tableContents = "<table cellspacing='5'>"    
  <script type="text/x-handlebars-template" id="tableTemplate">
     <table cellspacing='12'>
         <tr><th>Name</th><th>Major</th><th>Midterm</th><th>Final</th></tr>
            {{#each rows}}

            {{/each}}
     </table>
  </script>
            for(i = 0; i < data.length; i++) {
                tableContents += `<tr><td> ${data[i].CIT} </td> <td> ${data[i].BUS} </td>
                       <td> ${data[i].midterm} </td>   
                       <td> ${data[i].final} </td></tr>`;
            }

            tableContents += "</table>";
            document.querySelector('#result').innerHTML = tableContents;
       }
       else {
            document.querySelector('#result').innerHTML = "Data not found";
       }
   };

});
</script>

</body>
</html>
